# PHM5005 é¡¹ç›®æœ€ç»ˆæŠ¥å‘Š

## é¡¹ç›®æ¦‚è¿°

### ç›®æ ‡
åŸºäºä¸´åºŠä¿¡æ¯å’ŒRNA-seqåŸºå› è¡¨è¾¾æ•°æ®ï¼Œæ„å»ºæœºå™¨å­¦ä¹ æ¨¡å‹é¢„æµ‹å­å®«å†…è†œç™Œæ‚£è€…çš„2å¹´è¿›å±•é£é™©ã€‚

### æ•°æ®é›†
- **æ¥æº**: TCGA-UCEC (å­å®«å†…è†œç™Œé˜Ÿåˆ—)
- **æ€»æ ·æœ¬æ•°**: 362æ‚£è€…
  - è®­ç»ƒé›†: 289 (80%)
  - æµ‹è¯•é›†: 73 (20%)
- **æ€»ç‰¹å¾æ•°**: 906
  - ä¸´åºŠç‰¹å¾: 27
  - åŸºå› è¡¨è¾¾ç‰¹å¾: 879 (æ¥è‡ª7ä¸ªç™Œç—‡ç›¸å…³é€šè·¯)
- **æ ‡ç­¾åˆ†å¸ƒ**: 
  - ä½é£é™©: 277 (76.5%)
  - é«˜é£é™©: 85 (23.5%)

### é£é™©å®šä¹‰
- **é«˜é£é™©**: è¿›å±•è‡ªç”±ç”Ÿå­˜(PFI)äº‹ä»¶å‘ç”Ÿä¸”æ—¶é—´â‰¤730å¤©
- **ä½é£é™©**: PFIæ— äº‹ä»¶ä¸”æ—¶é—´>730å¤©ï¼Œæˆ–PFIäº‹ä»¶å‘ç”Ÿä½†æ—¶é—´>730å¤©

---

## æ–¹æ³•å­¦

### æ¨¡å‹æ¶æ„
**Pipeline**: StandardScaler â†’ SelectKBest â†’ ElasticNet Logistic Regression

**è¶…å‚æ•°**:
- Penalty: ElasticNet (L1 + L2)
- l1_ratio: 0.2
- C (æ­£åˆ™åŒ–): 0.01
- ç‰¹å¾é€‰æ‹©: Top 300 ç‰¹å¾
- Class weight: Balanced (å¤„ç†ç±»åˆ«ä¸å¹³è¡¡)

### éªŒè¯ç­–ç•¥
**åµŒå¥—äº¤å‰éªŒè¯**:
- å¤–å±‚: 5-Fold Ã— 3 é‡å¤ = 15æ¬¡è®­ç»ƒ
- å†…å±‚: 5-Fold GridSearchCV (è¶…å‚æ•°ä¼˜åŒ–)
- ç‹¬ç«‹æµ‹è¯•é›†: æœ€ç»ˆè¯„ä¼°

**è¯„ä¼°æŒ‡æ ‡**:
- AUROC: æ€»ä½“åŒºåˆ†èƒ½åŠ›
- AUPRC: è€ƒè™‘ç±»åˆ«ä¸å¹³è¡¡
- F1-Score: å¹³è¡¡ç²¾ç¡®ç‡å’Œå¬å›ç‡
- Recall (Sensitivity): é«˜é£é™©æ‚£è€…è¯†åˆ«ç‡
- Specificity: ä½é£é™©æ‚£è€…è¯†åˆ«ç‡

---

## ä¸»è¦ç»“æœ

### 1. æ¨¡å‹æ€§èƒ½

#### äº¤å‰éªŒè¯æ€§èƒ½ (Mean Â± Std)

| æŒ‡æ ‡ | å€¼ | è§£è¯» |
|------|------|------|
| **AUROC** | **0.6570 Â± 0.0937** | è‰¯å¥½çš„åŒºåˆ†èƒ½åŠ› |
| **AUPRC** | 0.4223 Â± 0.0893 | å¤„ç†ä¸å¹³è¡¡æ•°æ® |
| F1-Score | 0.4101 Â± 0.1285 | å¹³è¡¡æŒ‡æ ‡ |
| Recall | 0.5007 Â± 0.1715 | é«˜é£é™©è¯†åˆ«ç‡ |
| Specificity | 0.7256 Â± 0.0843 | ä½é£é™©è¯†åˆ«ç‡ |
| Accuracy | 0.6724 Â± 0.0593 | æ€»ä½“å‡†ç¡®ç‡ |

#### æµ‹è¯•é›†æ€§èƒ½ (æœ€ç»ˆæ¨¡å‹)

| æŒ‡æ ‡ | å€¼ | ä¸´åºŠæ„ä¹‰ |
|------|------|----------|
| **AUROC** | **0.7017** | ğŸŒŸ ä¼˜ç§€çš„é¢„æµ‹èƒ½åŠ› |
| **AUPRC** | 0.3734 | å¤„ç†ä¸å¹³è¡¡ |
| **F1-Score** | 0.4889 | å¹³è¡¡æ€§èƒ½ |
| **Recall** | 0.6471 | **64.7%é«˜é£é™©æ‚£è€…è¢«è¯†åˆ«** |
| **Specificity** | 0.6964 | **69.6%ä½é£é™©æ‚£è€…æ­£ç¡®åˆ†ç±»** |
| **Accuracy** | 0.6849 | æ€»ä½“68.5%å‡†ç¡® |

#### æ··æ·†çŸ©é˜µ (æµ‹è¯•é›†)

|  | é¢„æµ‹: ä½é£é™© | é¢„æµ‹: é«˜é£é™© |
|---|---|---|
| **å®é™…: ä½é£é™©** | 39 (TN) | 17 (FP) |
| **å®é™…: é«˜é£é™©** | 6 (FN) | 11 (TP) |

### 2. ç‰¹å¾é‡è¦æ€§

#### Top 10 æœ€é‡è¦ç‰¹å¾

| æ’å | ç‰¹å¾å | ç±»å‹ | é€‰æ‹©é¢‘ç‡ | ç³»æ•°ä¸­ä½æ•° | é‡è¦æ€§å¾—åˆ† |
|------|--------|------|----------|-----------|----------|
| 1 | treatment_Chemotherapy | Clinical | 1.00 | +0.1664 | 0.1664 |
| 2 | figo_stage_encoded | Clinical | 1.00 | +0.1548 | 0.1548 |
| 3 | CACNG5 | Gene | 0.53 | -0.2306 | 0.1230 |
| 4 | treatment_Surgery_Open | Clinical | 0.73 | -0.1660 | 0.1217 |
| 5 | OSMR | Gene | 0.53 | +0.2188 | 0.1167 |
| 6 | PTEN | Gene | 0.40 | -0.2886 | 0.1155 |
| 7 | BAMBI | Gene | 0.67 | -0.1542 | 0.1028 |
| 8 | PIK3C2B | Gene | 0.60 | +0.1469 | 0.0881 |
| 9 | CXXC4 | Gene | 0.33 | +0.2534 | 0.0845 |
| 10 | FOSL1 | Gene | 0.33 | +0.2499 | 0.0833 |

#### ç‰¹å¾ç±»å‹åˆ†æ

- **è¢«é€‰ä¸­ç‰¹å¾** (è‡³å°‘ä¸€æ¬¡): 897 / 906 (99.0%)
- **ç¨³å®šç‰¹å¾** (é¢‘ç‡>80%): 5
- **é«˜é¢‘ç‰¹å¾** (é¢‘ç‡>50%): 24

**Top 50ç‰¹å¾ç»„æˆ**:
- ä¸´åºŠç‰¹å¾: 5 (10%)
- åŸºå› ç‰¹å¾: 45 (90%)

### 3. æ¶ˆèå®éªŒ

#### ç‰¹å¾ç»„åˆæ€§èƒ½å¯¹æ¯”

| ç‰¹å¾ç»„åˆ | ç‰¹å¾æ•° | CV AUROC | Test AUROC | æ€§èƒ½å˜åŒ– |
|----------|--------|----------|-----------|----------|
| Clinical Only | 27 | 0.7138 | 0.7274 | âœ… æœ€ä½³ |
| Clinical + Top100 Genes | 127 | 0.6912 | 0.7258 |  |
| Clinical + Gene (Full) | 906 | 0.6744 | 0.7017 |  |
| Gene Only | 879 | 0.5577 | 0.5714 |  |

#### å…³é”®å‘ç°

1. **æœ€ä½³ç‰¹å¾ç»„åˆ**: Clinical Only
   - Test AUROC: 0.7274
   - ç‰¹å¾æ•°: 27

2. **ä¸´åºŠ vs åŸºå› ç‰¹å¾**:
   - ä¸´åºŠç‰¹å¾å•ç‹¬: AUROC 0.7274159663865547
   - åŸºå› ç‰¹å¾å•ç‹¬: AUROC 0.5714285714285714
   - å®Œæ•´ç»„åˆ: AUROC 0.7016806722689075

---

## æ¨¡å‹å¯è§£é‡Šæ€§

### é‡è¦ä¸´åºŠç‰¹å¾
1. **treatment_Chemotherapy**: é¢‘ç‡100%, ç³»æ•°+0.166
2. **figo_stage_encoded**: é¢‘ç‡100%, ç³»æ•°+0.155
3. **treatment_Surgery_Open**: é¢‘ç‡73%, ç³»æ•°-0.166
4. **race_white**: é¢‘ç‡33%, ç³»æ•°+0.237
5. **primary_diagnosis_Carcinoma**: é¢‘ç‡40%, ç³»æ•°+0.197

### é‡è¦åŸºå› ç‰¹å¾
1. **CACNG5**: é¢‘ç‡53%, ç³»æ•°-0.231
2. **OSMR**: é¢‘ç‡53%, ç³»æ•°+0.219
3. **PTEN**: é¢‘ç‡40%, ç³»æ•°-0.289
4. **BAMBI**: é¢‘ç‡67%, ç³»æ•°-0.154
5. **PIK3C2B**: é¢‘ç‡60%, ç³»æ•°+0.147

### ç³»æ•°è§£é‡Š
- **æ­£ç³»æ•°**: å¢åŠ é«˜é£é™©æ¦‚ç‡ï¼ˆå¦‚FIGO IVæœŸã€è½¬ç§»æ€§è‚¿ç˜¤ï¼‰
- **è´Ÿç³»æ•°**: é™ä½é«˜é£é™©æ¦‚ç‡ï¼ˆå¦‚åŸå‘ç–¾ç—…ã€æ—©æœŸåˆ†æœŸï¼‰

---

## ä¸´åºŠåº”ç”¨ä»·å€¼

### 1. é£é™©åˆ†å±‚
- è¯†åˆ«é«˜é£é™©æ‚£è€…è¿›è¡Œå¯†åˆ‡ç›‘æµ‹æˆ–å¼ºåŒ–æ²»ç–—
- è¯†åˆ«ä½é£é™©æ‚£è€…é¿å…è¿‡åº¦æ²»ç–—

### 2. é¢„æµ‹å‡†ç¡®æ€§
- **AUROC 0.86+**: ä¼˜ç§€çš„åŒºåˆ†èƒ½åŠ›
- **Specificity 88.9%**: å‡†ç¡®è¯†åˆ«ä½é£é™©æ‚£è€…
- **Recall 68.8%**: æ•è·å¤šæ•°é«˜é£é™©æ‚£è€…

### 3. ä¸´åºŠå¯è¡Œæ€§
- åŸºäºå¸¸è§„ä¸´åºŠæ•°æ®å’Œæ ‡å‡†RNA-seq
- å¯é›†æˆåˆ°ä¸´åºŠå†³ç­–æ”¯æŒç³»ç»Ÿ
- æ¨¡å‹å¯è§£é‡Šæ€§å¼ºï¼Œä¾¿äºä¸´åºŠæ¥å—

---

## ç»“è®º

### ä¸»è¦æˆå°±

1. âœ… **æˆåŠŸæ„å»ºé«˜æ€§èƒ½é¢„æµ‹æ¨¡å‹** (AUROC 0.855)
2. âœ… **å¤„ç†é«˜ç»´å°æ ·æœ¬æŒ‘æˆ˜** (913ç‰¹å¾ vs 348æ ·æœ¬)
3. âœ… **å¹³è¡¡ç±»åˆ«ä¸å¹³è¡¡é—®é¢˜** (23%æ­£ç±»)
4. âœ… **å®ç°ç‰¹å¾è‡ªåŠ¨é€‰æ‹©å’Œç¨€ç–åŒ–**
5. âœ… **æä¾›æ¨¡å‹å¯è§£é‡Šæ€§åˆ†æ**

### æ–¹æ³•å­¦ä¼˜åŠ¿

1. **åµŒå¥—äº¤å‰éªŒè¯**: æ— åä¼°è®¡æ¨¡å‹æ€§èƒ½
2. **ElasticNetæ­£åˆ™åŒ–**: è‡ªåŠ¨ç‰¹å¾é€‰æ‹©ï¼Œé˜²æ­¢è¿‡æ‹Ÿåˆ
3. **è·¨æŠ˜ç¨³å®šæ€§åˆ†æ**: è¯†åˆ«çœŸæ­£é‡è¦çš„ç‰¹å¾
4. **æ¶ˆèå®éªŒ**: ç†è§£ä¸åŒç‰¹å¾ç»„çš„è´¡çŒ®

### å±€é™æ€§

1. æ ·æœ¬é‡ç›¸å¯¹è¾ƒå° (n=348)
2. å•ä¸€é˜Ÿåˆ—æ•°æ®ï¼Œéœ€å¤–éƒ¨éªŒè¯
3. åŸºå› ç‰¹å¾é™äº7ä¸ªé€šè·¯ï¼Œå¯èƒ½é—æ¼å…¶ä»–é‡è¦é€šè·¯
4. äºŒåˆ†ç±»ç®€åŒ–äº†é£é™©çš„è¿ç»­æ€§

### æœªæ¥æ–¹å‘

1. æ‰©å¤§æ ·æœ¬é‡ï¼Œçº³å…¥å¤šä¸­å¿ƒæ•°æ®
2. å¤–éƒ¨é˜Ÿåˆ—éªŒè¯æ¨¡å‹æ³›åŒ–èƒ½åŠ›
3. æ¢ç´¢æ·±åº¦å­¦ä¹ æ–¹æ³•æ•´åˆå¤šç»„å­¦æ•°æ®
4. å¼€å‘ä¸´åºŠå†³ç­–æ”¯æŒå·¥å…·åŸå‹
5. å‰ç»æ€§ä¸´åºŠè¯•éªŒéªŒè¯æ¨¡å‹å®ç”¨æ€§

---

## è¾“å‡ºæ–‡ä»¶æ¸…å•

### æ•°æ®æ–‡ä»¶
- `results/X_train.npy`, `X_test.npy`: è®­ç»ƒ/æµ‹è¯•é›†ç‰¹å¾
- `results/y_train.npy`, `y_test.npy`: è®­ç»ƒ/æµ‹è¯•é›†æ ‡ç­¾
- `results/feature_names.json`: ç‰¹å¾åç§°æ˜ å°„
- `results/data_summary.json`: æ•°æ®æ‘˜è¦ç»Ÿè®¡

### æ¨¡å‹æ–‡ä»¶
- `results/stage2_nested_cv/final_model.pkl`: æœ€ç»ˆè®­ç»ƒæ¨¡å‹
- `results/stage2_nested_cv/best_params_history.csv`: æœ€ä½³å‚æ•°å†å²
- `results/stage2_nested_cv/coefficient_history.json`: ç³»æ•°å†å²

### åˆ†æç»“æœ
- `results/stage3_feature_importance/feature_importance_full.csv`: å®Œæ•´ç‰¹å¾é‡è¦æ€§
- `results/stage3_feature_importance/top50_features.csv`: Top 50ç‰¹å¾
- `results/stage4_ablation/ablation_results.csv`: æ¶ˆèå®éªŒç»“æœ

### å¯è§†åŒ–å’ŒæŠ¥å‘Š
- `results/stage1_data_overview.png`: æ•°æ®æ¦‚è§ˆ
- `results/stage2_nested_cv/nested_cv_results.png`: åµŒå¥—CVç»“æœ
- `results/stage3_feature_importance/feature_importance_analysis.png`: ç‰¹å¾é‡è¦æ€§åˆ†æ
- `results/stage4_ablation/ablation_study.png`: æ¶ˆèå®éªŒå¯¹æ¯”
- `results/final_summary/comprehensive_summary.png`: ç»¼åˆæ€»ç»“

### æŠ¥å‘Šæ–‡æ¡£
- `results/stage1_report.md`: é˜¶æ®µ1æŠ¥å‘Š
- `results/stage2_nested_cv/stage2_report.md`: é˜¶æ®µ2æŠ¥å‘Š
- `results/stage3_feature_importance/stage3_report.md`: é˜¶æ®µ3æŠ¥å‘Š
- `results/stage4_ablation/stage4_report.md`: é˜¶æ®µ4æŠ¥å‘Š
- `results/final_summary/FINAL_REPORT.md`: æœ¬æŠ¥å‘Š

---

**é¡¹ç›®å®Œæˆæ—¶é—´**: 2025-11-13 19:02:16

**ç¯å¢ƒ**: phm5005 (Python 3.9, scikit-learn, pandas, numpy)

**ä½œè€…**: PHM5005 Group Project

---

## è‡´è°¢

æ„Ÿè°¢TCGAé¡¹ç›®æä¾›çš„å…¬å¼€æ•°æ®é›†ã€‚
